#!/usr/bin/env bash
source $HOME/.zprofile
tmp="$(mktemp -t wal-pick.XXXXXXX)"

$TERM --class "floatterm" -e yazi $WALLPAPER_DIR --chooser-file "$tmp"

selected=$(cat $tmp)

if [ ! -z $selected ]; then
notify-send "Selected $selected."
wal -i $selected -o $SCRIPT_DIR/wallpaper-reload
else
notify-send "No wallpaper has been selected."
fi
